<!DOCTYPE html>
<html lang="en" class="h-100" data-bs-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Zapquake Calculator | COC Damage Calculator</title>

    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/images/favicon/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/images/favicon/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/images/favicon/favicon-16x16.png"
    />
    <link rel="manifest" href="/images/favicon/site.webmanifest" />
    <link
      rel="mask-icon"
      href="/images/favicon/safari-pinned-tab.svg"
      color="#bf00ff"
    />
    <meta name="msapplication-TileColor" content="#9f00a7" />
    <meta name="theme-color" content="#ffffff" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link href="/css/stylesheet.css" rel="stylesheet" />
    <script src="/js/util/localStorageUtils.js"></script>
    <script src="/js/util/loadTheme.js"></script>
    <script
      src="https://kit.fontawesome.com/e1acb8aa00.js"
      crossorigin="anonymous"
    ></script>
  </head>

  <body class="d-flex flex-column h-100">
    <nav class="navbar navbar-expand-lg fixed-top" id="navbar">
      <div
        class="container-fluid justify-content-start mx-lg-5 px-sm-5 fw-bold"
      >
        <a class="navbar-brand d-flex align-items-center" href="/html/">
          <div
            class="brand__logo me-3 d-flex justify-content-center align-items-center"
          >
            <img src="/images/other/logo.webp" alt="Logo" />
          </div>
          <div class="brand__text">
            <div class="brand__text--orange">Damage</div>
            <div class="brand__text--yellow">Calculator</div>
          </div>
        </a>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link" aria-current="page" href="/html/">Home</a>
            </li>
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle active"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
                >Calculator</a
              >
              <ul class="dropdown-menu">
                <li>
                  <a
                    class="dropdown-item fw-bold"
                    href="/html/zapquake-calculator.html"
                    >Zapquake</a
                  >
                </li>
                <li>
                  <a class="dropdown-item" href="/html/advance-calculator.html"
                    >Advance</a
                  >
                </li>
              </ul>
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                aria-current="page"
                href="/html/changelog.html"
                >Changelog</a
              >
            </li>
            <li class="nav-item d-sm-none">
              <a class="nav-link" aria-current="page" href="/html/setting.html"
                >Setting</a
              >
            </li>
          </ul>
        </div>
        <button
          class="navbar-toggler ms-auto"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <button
          id="toggleTheme"
          class="btn btn--toggle-theme"
          onclick="toggleTheme()"
        >
          <i class="fa-solid fa-sun fa-2x d-none" id="lightModeIcon"></i>
          <i class="fa-solid fa-moon fa-2x" id="darkModeIcon"></i>
        </button>
        <a href="/html/setting.html" class="btn btn--setting d-none d-sm-block">
          <i class="fa-solid fa-gear fa-2x"></i>
        </a>
      </div>
    </nav>

    <main class="container-fluid pb-5">
      <header class="text-center">
        <h1 class="brand__text">
          <span class="brand__text--blue d-inline-block mt-3">
            Zap<span class="brand__text--brown">Quake</span>
          </span>
          <span class="brand__text--yellow d-inline-block mt-3"
            >Calculator</span
          >
        </h1>
      </header>
      <section class="main-container mx-auto mt-5">
        <section id="offenses" class="p-4 shadow card-custom card-custom__main">
          <h2 class="text-center">Select Offense Level</h2>
          <hr />
          <!-- Spells -->
          <div>
            <h3 class="text-center">Spell</h3>
            <div>
              <h3 class="mb-0">Setting:</h3>
              <div class="d-flex flex-wrap gap-2 my-2">
                <button
                  class="btn btn-secondary"
                  type="button"
                  value="max"
                  onclick="setAllSpellsLevel(this)"
                >
                  Set All Spells to Max Level
                </button>
                <button
                  class="btn btn-secondary"
                  type="button"
                  value="min"
                  onclick="setAllSpellsLevel(this)"
                >
                  Set All Spells to Min Level
                </button>
              </div>
              <div class="d-flex align-items-center">
                <input
                  class="form-check-input checkbox me-1"
                  type="checkbox"
                  id="useDonatedLightning"
                  oninput="useDonatedZapSpell(this)"
                />
                <label class="h5 mb-0" for="useDonatedLightning"
                  >Use donated lightning spell</label
                >
              </div>
            </div>
            <div class="row row-cols-6 justify-content-evenly gap-3 mt-5">
              <div
                class="col offense spell card-custom card-custom__object text-center"
                data-id="lightning_spell"
                data-donated="false"
              >
                <h5>Lightning Spell</h5>
                <div class="object-container">
                  <img class="image object-container__img" />
                  <div
                    class="level overlay overlay--bottom-left overlay__number"
                  ></div>
                </div>
                <div class="mt-2">
                  <input
                    type="range"
                    class="slider slider--theme"
                    oninput="updateOffense(this)"
                  />
                </div>
              </div>
              <div
                class="col offense spell card-custom card-custom__object text-center d-none"
                data-id="lightning_spell"
                data-donated="true"
              >
                <h5>Lightning Spell (Donated)</h5>
                <div class="object-container">
                  <img class="image object-container__img" />
                  <div
                    class="level overlay overlay--bottom-left overlay__number"
                  ></div>
                  <div class="overlay overlay--top-left overlay__img">
                    <img src="/images/other/donate.webp" />
                  </div>
                </div>
                <div class="mt-2">
                  <input
                    type="range"
                    class="slider slider--theme"
                    oninput="updateOffense(this)"
                  />
                </div>
                <div class="donate-count">
                  <label for="donateCount" class="form-label">
                    <strong>Number of spell in clan castle:</strong>
                  </label>
                  <div class="d-flex justify-content-center">
                    <input
                      type="number"
                      min="0"
                      max="3"
                      value="0"
                      class="form-control input-box bg-secondary"
                      id="donateCount"
                      oninput="updateDonatedCount(this)"
                    />
                  </div>
                  <div id="inputWarning" class="status-container d-none mt-2">
                    <div
                      class="status-container__text status-container__text--fail"
                    >
                      Input must be a number between 0 and 3!
                    </div>
                  </div>
                </div>
              </div>
              <div
                class="col offense spell card-custom card-custom__object text-center"
                data-id="earthquake_spell"
                data-donated="false"
              >
                <h5>Earthquake Spell</h5>
                <div class="object-container">
                  <img class="image object-container__img" />
                  <div
                    class="level overlay overlay--bottom-left overlay__number"
                  ></div>
                </div>
                <div class="mt-2">
                  <input
                    type="range"
                    class="slider slider--theme"
                    oninput="updateOffense(this)"
                  />
                </div>
              </div>
            </div>
          </div>
          <hr />
          <!-- Equipments -->
          <div class="mt-4">
            <h3 class="text-center">Hero Equipment</h3>
            <div>
              <h3 class="mb-0">Setting:</h3>
              <div class="d-flex flex-wrap gap-2 my-2">
                <button
                  class="btn btn-secondary"
                  type="button"
                  value="max"
                  onclick="setAllEquipmentsLevel(this)"
                >
                  Set All Equipments to Max Level
                </button>
                <button
                  class="btn btn-secondary"
                  type="button"
                  value="min"
                  onclick="setAllEquipmentsLevel(this)"
                >
                  Set All Equipments to Min Level
                </button>
              </div>
              <div class="d-flex align-items-center flex-wrap gap-3">
                <label class="h5 mb-0" for="earthquakeOrder"
                  >Earthquake order:</label
                ><br />
                <select
                  class="form-select dropdown bg-secondary"
                  id="earthquakeOrder"
                  aria-label="earthquakeOrder"
                  onchange="updateEQOrder(this)"
                >
                  <option value="earthquake_spell">
                    Earthquake Spell first
                  </option>
                  <option value="earthquake_boots">
                    Earthquake Boots first
                  </option>
                </select>
              </div>
            </div>
            <div class="row row-cols-6 justify-content-evenly gap-3 mt-5">
              <div
                class="col offense equipment card-custom card-custom__object text-center"
                data-id="earthquake_boots"
              >
                <h5>Earthquake Boots</h5>
                <div class="object-container">
                  <img class="image object-container__img" />
                  <div
                    class="level overlay overlay--bottom-left overlay__number overlay__number--level-maxed"
                  ></div>
                </div>
                <div class="mt-2">
                  <input
                    type="range"
                    class="slider slider--theme"
                    oninput="updateOffense(this)"
                  />
                </div>
              </div>
              <div
                class="col offense equipment card-custom card-custom__object text-center"
                data-id="spiky_ball"
              >
                <h5>Spiky Ball</h5>
                <div class="object-container object-container--epic">
                  <img class="image object-container__img" />
                  <div
                    class="level overlay overlay--bottom-left overlay__number overlay__number--level-maxed"
                  ></div>
                </div>
                <div class="mt-2">
                  <input
                    type="range"
                    class="slider slider--theme"
                    oninput="updateOffense(this)"
                  />
                </div>
              </div>
              <div
                class="col offense equipment card-custom card-custom__object text-center"
                data-id="giant_arrow"
              >
                <h5>Giant Arrow</h5>
                <div class="object-container">
                  <img class="image object-container__img" />
                  <div
                    class="level overlay overlay--bottom-left overlay__number overlay__number--level-maxed"
                  ></div>
                </div>
                <div class="mt-2">
                  <input
                    type="range"
                    class="slider slider--theme"
                    oninput="updateOffense(this)"
                  />
                </div>
              </div>
              <div
                class="col offense equipment card-custom card-custom__object text-center"
                data-id="fireball"
              >
                <h5>Fireball</h5>
                <div class="object-container object-container--epic">
                  <img class="image object-container__img" />
                  <div
                    class="level overlay overlay--bottom-left overlay__number overlay__number--level-maxed"
                  ></div>
                </div>
                <div class="mt-2">
                  <input
                    type="range"
                    class="slider slider--theme"
                    oninput="updateOffense(this)"
                  />
                </div>
              </div>
              <div
                class="col offense equipment card-custom card-custom__object text-center"
                data-id="seeking_shield"
              >
                <h5>Seeking Shield</h5>
                <div class="object-container">
                  <img class="image object-container__img" />
                  <div
                    class="level overlay overlay--bottom-left overlay__number overlay__number--level-maxed"
                  ></div>
                </div>
                <div class="mt-2">
                  <input
                    type="range"
                    class="slider slider--theme"
                    oninput="updateOffense(this)"
                  />
                </div>
              </div>
            </div>
          </div>
          <hr />
          <!-- Instructions -->
          <div class="mt-4">
            <h3>Instruction</h3>
            <button
              class="btn btn-secondary"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#instruction"
              aria-expanded="false"
              aria-controls="instruction"
              onclick="toggleHTMLCollapseBtnText(this)"
            >
              Show
            </button>
            <div class="collapse mt-3" id="instruction">
              <h4 class="text-decoration-underline">How to use:</h4>
              <ul>
                <li>
                  <div class="fw-bold">Step 1: Select Spell Level</div>
                  <ul>
                    <li>
                      Choose the appropriate spell level based on your needs.
                    </li>
                    <li>
                      <div>
                        You can also toggle the use of donated Lightning spells
                        by:
                      </div>
                      <ul>
                        <li>
                          Clicking on
                          <strong>"Use donated lightning spell".</strong>
                        </li>
                        <li>Selecting its level.</li>
                        <li>
                          Choosing the quantity
                          <strong>(Must be between 0 and 3).</strong>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>
                  <div class="fw-bold">Step 2: Select Equipment Level</div>
                  <ul>
                    <li>
                      Choose the appropriate equipment level based on your
                      needs.
                    </li>
                    <li>
                      <div>
                        If you're using both Earthquake Boots and Earthquake
                        spells, you can select which one will be used first.
                        This is important because earthquake type damage deal
                        less damage the more its target get hit by it.
                      </div>
                      <ul>
                        <li>
                          For more complex Earthquake order scenarios, visit the
                          <a href="/html/advance-calculator.html"
                            >Advance Calculator.</a
                          >
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>
                  <div class="fw-bold">Step 3: Calculate</div>
                  <ul>
                    <li>
                      Navigate to the Defense List section to see the results.
                    </li>
                    <li>
                      Select the appropriate defense level based on your needs.
                    </li>
                    <li>You can also search for a specific defense.</li>
                  </ul>
                </li>
              </ul>
              <h4 class="text-decoration-underline">Note:</h4>
              <ul>
                <li>
                  To exclude an offense from the calculation, set its level to
                  <strong>0.</strong>
                </li>
                <li>
                  <div>All of your options are saved for future use.</div>
                  <ul>
                    <li>
                      You can clear it in
                      <a href="/html/setting.html">Setting.</a>
                    </li>
                  </ul>
                </li>
                <li>
                  While the website is supported on small screens like phones,
                  it's recommended to use a larger screen, such as a monitor or
                  tablet, for the best experience.
                </li>
              </ul>
            </div>
          </div>
        </section>

        <section class="card-custom card-custom__main shadow p-4 my-5">
          <h2 class="text-center">Defense List</h2>
          <hr />
          <div class="search-box shadow">
            <i class="fa fa-search"></i>
            <input
              type="text"
              class="form-control search-box__input"
              placeholder="Search a defense"
              onkeyup="filterDefenses()"
              id="searchDefense"
            />
          </div>
          <div class="d-flex flex-wrap gap-2 mt-3">
            <button
              class="btn btn-secondary"
              type="button"
              value="max"
              onclick="setAllDefensesLevel(this)"
            >
              Set All Defenses to Max Level
            </button>
            <button
              class="btn btn-secondary"
              type="button"
              value="min"
              onclick="setAllDefensesLevel(this)"
            >
              Set All Defenses to Min Level
            </button>
          </div>
          <hr />
          <h5 id="defenseCount" class="mb-0"></h5>
        </section>

        <section class="my-3">
          <div
            id="defenses"
            class="row row-cols-md-2 row-cols-xl-3 row-cols-xxl-4 gy-3"
          ></div>
          <div
            id="emptySearchStatus"
            class="row gy-5 align-items-center status-container d-none"
          >
            <div class="col-md-4 col-lg-3 d-flex justify-content-center">
              <img
                src=""
                class="status-container__img status-container__img--empty-search"
              />
            </div>
            <h3 class="col-md-8 col-lg-9 status-container__text mb-0"></h3>
          </div>
        </section>
      </section>
    </main>

    <footer class="p-5 text-center mt-auto">
      <h4>Last Updated: 25/11/2024 (November 2024 Update)</h4>
      <h4>Made by Kienlabadao</h4>
      <div
        class="d-flex justify-content-center align-items-center flex-wrap gap-2"
      >
        <div>
          <a
            href="https://www.reddit.com/user/Kienlabadao/"
            target="_blank"
            class="btn btn--reddit"
          >
            <i class="fa-brands fa-reddit-alien"></i> Reddit
          </a>
        </div>
        <div>
          <a
            href="https://discord.com/invite/6SDDRw68"
            target="_blank"
            class="btn btn-primary"
          >
            <i class="fa-brands fa-discord"></i> Discord
          </a>
        </div>
        <div>
          <a
            href="https://github.com/Kienlabadao/COC-Damage-Calculator"
            target="_blank"
            class="btn btn-primary"
            ><i class="fa-brands fa-github"></i> Source Code</a
          >
        </div>
        <div>
          <a
            href="https://buymeacoffee.com/kienlabadao"
            target="_blank"
            class="btn btn-success btn--donate"
            >☕ Buy me a coffee</a
          >
        </div>
      </div>
    </footer>

    <button
      type="button"
      id="scrollUpBtn"
      class="btn btn__scroll btn__scroll--up btn-secondary position-fixed d-none"
      onclick="scrollUp()"
    >
      <i class="fa-solid fa-arrow-up fa-2x"></i>
    </button>
    <button
      type="button"
      id="scrollDownBtn"
      class="btn btn__scroll btn__scroll--down btn-secondary position-fixed d-none"
      onclick="scrollDown()"
    >
      <i class="fa-solid fa-arrow-down fa-2x"></i>
    </button>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <script src="/js/util/init.js"></script>
    <script src="/js/util/numberUtil.js"></script>
    <script src="/js/util/htmlUtil.js"></script>
    <script src="/js/util/scrollManager.js"></script>
    <script src="/js/util/setAllObjectsLevel.js"></script>
    <script src="/js/util/toggleCollapseBtnText.js"></script>
    <script src="/js/util/toggleTheme.js"></script>

    <script src="/js/classes/offense/offense.js"></script>
    <script src="/js/classes/offense/spell.js"></script>
    <script src="/js/classes/offense/equipment.js"></script>
    <script src="/js/classes/offense/troop.js"></script>
    <script src="/js/classes/offense/repair.js"></script>
    <script src="/js/classes/offense/offenseListManager.js"></script>
    <script src="/js/classes/modifier/modifier.js"></script>
    <script src="/js/classes/modifier/modifierListManager.js"></script>
    <script src="/js/classes/defense/defense.js"></script>
    <script src="/js/classes/defense/defenseListManager.js"></script>
    <script src="/js/classes/action/action.js"></script>
    <script src="/js/classes/action/actionListManager.js"></script>
    <script src="/js/classes/spell_count/spellCount.js"></script>
    <script src="/js/classes/spell_count/spellCountListManager.js"></script>
    <script src="/js/classes/damage_log/damageLog.js"></script>
    <script src="/js/classes/damage_log/damageLogListManager.js"></script>

    <script src="/js/zapquake_calc/calculate.js"></script>
    <script src="/js/zapquake_calc/htmlUtil.js"></script>
    <script src="/js/zapquake_calc/searchDefenses.js"></script>
    <script src="/js/zapquake_calc/setAllObjectsLevel.js"></script>
    <script src="/js/zapquake_calc/update.js"></script>
    <script src="/js/zapquake_calc/init.js"></script>

    <script src="/js/util/json.js"></script>
  </body>
</html>
